<body>
  <header class='head-container'>
    <div><h3>StackMatch</h3></div>
    {{> GameMessages}}
  </header>

  <section class='grid-container'>
    {{> Grid}}
  </section>

  <aside class='game-control-container'>
    {{> GameControl}}
  </aside>

  <footer class='matches-container'>
   {{> Matches}}
  </footer>

</body>


<template name='GameControl'>
  {{#if gameInProgress}}
    <input type=button id='leaveGame' value='Leave Game'>
  {{else}}
    <input type=button id='newGame' value='Start New Game'>
    <p>Double-click to join a game:</p>
    {{#each gamesWaiting}}
      <p id='{{_id}}' class='waiting-queue'>Player: {{players.[0].device}}
        <br>Started a game at: {{timestamp}}
      </p>
    {{/each}}
  {{/if}}
  
</template>

<template name='Grid'>
  <ul>
    {{#each shuffledCards}}
      <li id='grid-{{idx}}' class='{{class}} icon-{{val}}'><div class="tiny-score">{{score}}</div></li>
    {{/each}}
  </ul>
</template>

<template name='Matches'>
  {{#with scoreBoard}}
    <div class="player1">Player 1: {{players.[0].totalScore}}</div>
    <div class="player2">Player 2: {{players.[1].totalScore}}</div>
  {{/with}}
  <h3>Your Matches</h3>
  <ul>
    {{#each yourMatches}}
      <li id='grid-{{idx}}' class='{{class}} icon-{{val}}'><div class="tiny-score">{{score}}</div></li>
    {{/each}}
  </ul>
</template>

<template name='GameMessages'>
  <p></p>
</template>